<div class="container">
  <!-- Header -->
  <div class="header">
    <h1>‚ú® Task Manager Pro</h1>
    <p>G√©rez vos t√¢ches avec style et efficacit√©</p>
  </div>

  <!-- üìä Statistiques -->
  <div class="stats">
    <div class="stat-card">
      <div class="stat-icon total">
        <span class="material-icons">dashboard</span>
      </div>
      <div class="stat-content">
        <h3>Total</h3>
        <div class="number">{{ total }}</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon progress">
        <span class="material-icons">schedule</span>
      </div>
      <div class="stat-content">
        <h3>En cours</h3>
        <div class="number">{{ progress }}</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon done">
        <span class="material-icons">check_circle</span>
      </div>
      <div class="stat-content">
        <h3>Termin√©es</h3>
        <div class="number">{{ done }}</div>
      </div>
    </div>
  </div>

  <!-- üîç Filtre & tri -->
  <div class="toolbar">
    <div class="select-wrapper">
      <select [(ngModel)]="filter" (change)="setFilter(filter)">
        <option value="">Toutes les t√¢ches</option>
        <option value="EN_COURS">En cours</option>
        <option value="TERMINEE">Termin√©es</option>
      </select>
    </div>

    <button class="btn btn-primary" (click)="sortByName()">
      <span class="material-icons" style="font-size: 1.25rem;">sort_by_alpha</span>
      Trier par nom
    </button>
  </div>

  <!-- ‚ûï Ajouter t√¢che -->
  <div class="add-card">
    <h2>
      <span class="material-icons">add_circle</span>
      Ajouter une nouvelle t√¢che
    </h2>
    <div class="input-group">
      <input type="text" [(ngModel)]="newTask.title" placeholder="Titre de la t√¢che">
      <input type="text" [(ngModel)]="newTask.description" placeholder="Description d√©taill√©e">
    </div>
    <button class="btn btn-accent" (click)="addTask()">
      <span class="material-icons" style="font-size: 1.25rem;">add</span>
      Ajouter la t√¢che
    </button>
  </div>

   <!-- üìã Liste des t√¢ches -->
  <div class="tasks-grid">
    <div class="task-card" *ngFor="let task of tasks">
      <div class="task-header">
        <h3>{{ task.title }}</h3>
        <span class="status-badge" [ngClass]="task.status === 'TERMINEE' ? 'done' : 'pending'">
          {{ task.status === 'TERMINEE' ? 'Termin√©e' : 'En cours' }}
        </span>
      </div>
      <p>{{ task.description }}</p>
      <div class="actions">
        <button *ngIf="task.status === 'EN_COURS'" 
                class="btn-small btn-success" 
                (click)="finish(task._id)">
          <span class="material-icons" style="font-size: 1rem;">check</span>
          Terminer
        </button>
        <button class="btn-small btn-danger" (click)="deleteTask(task._id)">
          <span class="material-icons" style="font-size: 1rem;">delete</span>
          Supprimer
        </button>
      </div>
    </div>
  </div>

  <!-- Message si aucune t√¢che -->
  <div class="no-task" *ngIf="tasks.length === 0">
    Aucune t√¢che pour le moment
  </div>
</div>
